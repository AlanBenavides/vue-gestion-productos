(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62b6d44a"],{"0a0a":function(t,e,n){"use strict";var r=n("2115"),o=n.n(r);o.a},"13d5":function(t,e,n){"use strict";var r=n("23e7"),o=n("d58f").left,i=n("a640"),a=n("ae40"),c=i("reduce"),s=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!s},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},2115:function(t,e,n){},"2b93":function(t,e,n){},"2c3a":function(t,e,n){"use strict";var r=n("c5d8"),o=n.n(r);o.a},9420:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"confirm-background"},[n("div",{staticClass:"confirm-dialog"},[n("p",{staticClass:"confirm-message"},[t._v(t._s(t.message))]),n("div",{staticClass:"confirm-buttons"},[n("button",{staticClass:"ok confirm-button",on:{click:function(e){return t.takeDecision(!0)}}},[t._v("Confirmar")]),n("button",{staticClass:"cancel confirm-button",on:{click:function(e){return t.takeDecision(!1)}}},[t._v("Cancelar")])])])]):t._e()},o=[],i={name:"Confirm",data:function(){return{show:!1,message:"",decision:null}},methods:{showConfirm:function(t){this.message=t,this.show=!0},takeDecision:function(t){this.show&&(this.decision=t,this.show=!1,this.$emit("taken-decision",this.decision))}}},a=i,c=(n("0a0a"),n("2877")),s=Object(c["a"])(a,r,o,!1,null,"2a5118fe",null);e["a"]=s.exports},abf9:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{staticClass:"admin_productos-title"},[t._v("Administración de productos")]),n("div",{staticClass:"admin_productos-container"},[n("Options",{staticClass:"admin_productos-options",attrs:{itemtype:t.itemTypeSelected},on:{"reload-page":function(e){return t.reloadPage()}}}),n("Short",{staticClass:"admin_productos-products",on:{itemtype:function(e){t.itemTypeSelected=e}}})],1)])},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",[n("ul",{staticClass:"options btn-group-vertical"},[n("router-link",{staticClass:"button",attrs:{to:"/registro_producto",tag:"button"}},[t._v("Registro de Producto ")]),"promotions"==t.itemtype?n("router-link",{staticClass:"button",attrs:{to:"/editar_promocion",tag:"button",disabled:-1==t.$store.state.idSelected[0]}},[t._v(" Editar promoción ")]):t._e(),"products"==t.itemtype?n("router-link",{staticClass:"button",attrs:{to:"/registro_promocion",tag:"button",disabled:t.canAddToProm}},[t._v(" "+t._s(t.buttons[1].name)+" ")]):t._e(),n("button",{staticClass:"button",attrs:{disabled:t.canEditProducts},on:{click:t.editProduct}},[t._v(" Editar producto ")]),n("button",{staticClass:"button",attrs:{disabled:t.canAddToProm},on:{click:t.hayCantidad}},[t._v(" Aplicar descuento ")]),n("button",{staticClass:"button",attrs:{disabled:!t.isProduct},on:{click:function(e){return t.handlerConfirmProductDeletion()}}},[t._v(" Eliminar Producto ")]),n("button",{staticClass:"button",attrs:{disabled:t.canDeleteProm},on:{click:function(e){return t.handlerConfirmPromotionDeletion()}}},[t._v(" Eliminar Promocion ")]),n("router-link",{staticClass:"button",attrs:{to:"/product-category",tag:"button"}},[t._v(" Administrar categorías ")])],1),n("Alert",{ref:"alert"}),n("Confirm",{ref:"confirm",on:{"taken-decision":function(e){return t.executeAction(e,t.eliminarProm)}}}),n("Confirm",{ref:"confirm1",on:{"taken-decision":function(e){return t.executeAction(e,t.deleteProduct)}}})],1)},a=[],c=(n("99af"),n("13d5"),n("96cf"),n("1da1")),s=n("98ab"),u=n("9420"),d={name:"Options",props:["itemtype"],components:{Alert:s["a"],Confirm:u["a"]},data:function(){return{buttons:[{name:"Editar producto"},{name:"Crear promocion"}]}},mounted:function(){this.$store.commit("changeSelection",[-1,0])},computed:{canAddToProm:function(){return-1!=this.$store.state.idSelected[0]&&("promotions"==this.itemtype||null==this.$store.state.idSelected[1])},canEditProducts:function(){return-1==this.$store.state.idSelected[0]||("promotions"==this.tipo||1==this.$store.state.idSelected[1])},canDeleteProm:function(){return-1==this.$store.state.idSelected[0]&&"promotions"===this.itemtype||"products"===this.itemtype},isProduct:function(){return-1!=this.$store.state.idSelected[0]&&"products"===this.itemtype}},methods:{hayCantidad:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.$store.state.idSelected[0],-1!=n?t.$router.push("/descuento_producto/".concat(n)):t.alert("warning","Seleccione un producto");case 2:case"end":return e.stop()}}),e)})))()},editProduct:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.$store.state.idSelected[0],-1!=n?t.$router.push("/editar_producto/".concat(n)):alert("Seleccione un producto");case 2:case"end":return e.stop()}}),e)})))()},handlerConfirmPromotionDeletion:function(){var t=this.$store.state.idSelected[0];-1!=t?this.confirm("Esta seguro que desea eliminar esta promocion","confirm"):this.alert("warning","Seleccione una promocion")},eliminarProm:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.idSelected[0],e.next=3,t.$http.delete("promotions/".concat(n));case 3:t.alert("success","La promocion fue eliminada"),t.$emit("reload-page");case 5:case"end":return e.stop()}}),e)})))()},obtenerCantidad:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("products/".concat(t));case 2:return r=n.sent,n.abrupt("return",r.data.datos[0].cantidad);case 4:case"end":return n.stop()}}),n)})))()},handlerConfirmProductDeletion:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.idSelected[0],e.next=3,t.getPromotions(n);case 3:return r=e.sent,e.next=6,t.getDiscount(n);case 6:if(e.t0=e.sent.length,0==e.t0){e.next=11;break}e.t1=!0,e.next=12;break;case 11:e.t1=!1;case 12:o=e.t1,i=0!=r.length?t.renderPromotions(r):"",t.confirm(t.getFormatedMessage(o,i),"confirm1");case 15:case"end":return e.stop()}}),e)})))()},deleteProduct:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.idSelected[0],e.next=3,t.$http.delete("products/".concat(n));case 3:t.alert("success","El producto fue eliminado"),t.$emit("reload-page");case 5:case"end":return e.stop()}}),e)})))()},getDiscount:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("discounts/".concat(t));case 2:return n.abrupt("return",n.sent.data.datos);case 3:case"end":return n.stop()}}),n)})))()},getPromotions:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("products/promotions/".concat(t));case 2:return n.abrupt("return",n.sent.data.datos);case 3:case"end":return n.stop()}}),n)})))()},renderPromotions:function(t){return t.reduce((function(t,e){return"".concat(t," ").concat(e.nombr_prom)}),"")},getFormatedMessage:function(t,e){var n="¿Estas seguro de quieres eliminarlo?";return t&&e?"Este producto tiene registrado un descuento y esta en las promociones de".concat(e,". ").concat(n):t?"Este producto tiene un descuento. ".concat(n):e?"Este producto tiene registrado las promociones de".concat(e,". ").concat(n):n},alert:function(t,e){this.$refs.alert.showAlert(t,e)},confirm:function(t,e){this.$refs[e].showConfirm(t)},executeAction:function(t,e){t?e():this.alert("success","se cancelo la eliminacion")}}},l=d,m=(n("2c3a"),n("2877")),f=Object(m["a"])(l,i,a,!1,null,"05371898",null),p=f.exports,h=n("3a26"),g={name:"Admin_productos",components:{Options:p,Short:h["a"]},data:function(){return{itemTypeSelected:""}},methods:{reloadPage:function(){location.reload()}}},b=g,v=(n("c684"),Object(m["a"])(b,r,o,!1,null,"5d4ea078",null));e["default"]=v.exports},c5d8:function(t,e,n){},c684:function(t,e,n){"use strict";var r=n("2b93"),o=n.n(r);o.a},d58f:function(t,e,n){var r=n("1c0b"),o=n("7b0b"),i=n("44ad"),a=n("50c4"),c=function(t){return function(e,n,c,s){r(n);var u=o(e),d=i(u),l=a(u.length),m=t?l-1:0,f=t?-1:1;if(c<2)while(1){if(m in d){s=d[m],m+=f;break}if(m+=f,t?m<0:l<=m)throw TypeError("Reduce of empty array with no initial value")}for(;t?m>=0:l>m;m+=f)m in d&&(s=n(s,d[m],m,u));return s}};t.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-62b6d44a.bcb25270.js.map