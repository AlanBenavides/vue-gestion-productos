{"version":3,"sources":["webpack:///./src/components/Confirm.vue?9e8c","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/components/Confirm.vue?4ad4","webpack:///src/components/Confirm.vue","webpack:///./src/components/Confirm.vue?63cf","webpack:///./src/components/Confirm.vue","webpack:///./src/views/Admin_productos.vue?a997","webpack:///./src/components/admin_prod/Options.vue?8980","webpack:///src/components/admin_prod/Options.vue","webpack:///./src/components/admin_prod/Options.vue?b3ba","webpack:///./src/components/admin_prod/Options.vue","webpack:///src/views/Admin_productos.vue","webpack:///./src/views/Admin_productos.vue?3cb4","webpack:///./src/views/Admin_productos.vue","webpack:///./src/views/Admin_productos.vue?04e9","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/components/admin_prod/Options.vue?22ac"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","message","on","$event","takeDecision","_e","staticRenderFns","name","data","show","decision","methods","showConfirm","confirmMessage","$emit","component","attrs","itemTypeSelected","reloadPage","itemtype","$store","state","idSelected","canAddToProm","buttons","canEditProducts","editProduct","hayCantidad","isProduct","handlerConfirmProductDeletion","canDeleteProm","handlerConfirmPromotionDeletion","ref","executeAction","eliminarProm","deleteProduct","props","components","mounted","commit","computed","idprom","confirm","alert","renderPromotions","promotions","getFormatedMessage","disconunt","promotionMessage","$refs","showAlert","alertType","alertMessage","confirmRefId","takenDecision","functionToExecute","Options","Short","location","reload","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right"],"mappings":"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","file":"js/chunk-68237d39.84c69bb2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=2a5118fe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=2a5118fe&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"confirm-background\"},[_c('div',{staticClass:\"confirm-dialog\"},[_c('p',{staticClass:\"confirm-message\"},[_vm._v(_vm._s(_vm.message))]),_c('div',{staticClass:\"confirm-buttons\"},[_c('button',{staticClass:\"ok confirm-button\",on:{\"click\":function($event){return _vm.takeDecision(true)}}},[_vm._v(\"Confirmar\")]),_c('button',{staticClass:\"cancel confirm-button\",on:{\"click\":function($event){return _vm.takeDecision(false)}}},[_vm._v(\"Cancelar\")])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"show\" class=\"confirm-background\">\n    <div class=\"confirm-dialog\">\n      <p class=\"confirm-message\">{{message}}</p>\n      <div class=\"confirm-buttons\">\n        <button class=\"ok confirm-button\" @click=\"takeDecision(true)\">Confirmar</button>\n        <button class=\"cancel confirm-button\" @click=\"takeDecision(false)\">Cancelar</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Confirm\",\n  data(){\n    return {\n      show: false,\n      message: '',\n      decision: null\n    }\n  },\n  methods: {\n    showConfirm(confirmMessage){\n      this.message = confirmMessage;\n      this.show = true;\n    },\n    takeDecision(decision){\n      if(this.show){\n        this.decision = decision;\n        this.show = false;\n        this.$emit(\"taken-decision\", this.decision);\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.confirm-background {\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding-top: 50px;\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.4);\n  overflow: scroll;\n}\n\n.confirm-dialog{\n  position: relative;\n  top: 20%;\n  left: 50%;\n  max-width: 500px;\n  max-height: 500px;\n  padding: 10px;\n  transform: translate(-50%);\n  background-color: white;\n  border-radius: 10px;\n}\n\n.confirm-message {\n  text-align: center;\n  font-size: 1.1rem;\n  font-weight: 700;\n}\n\n.confirm-buttons {\n  display: flex;\n  justify-content: center;\n}\n\n.confirm-button {\n  width: 100px;\n  height: 40px;\n  margin: 10px;\n  border-color: white;\n  border-radius: 10px;\n}\n\n.confirm-button:hover {\n  border-color: gray;\n}\n\n.ok {\n  background-color: #4CAF50;\n  color: white;\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=2a5118fe&scoped=true&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&id=2a5118fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a5118fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',{staticClass:\"admin_productos-title\"},[_vm._v(\"Administración de productos\")]),_c('div',{staticClass:\"admin_productos-container\"},[_c('Options',{staticClass:\"admin_productos-options\",attrs:{\"itemtype\":_vm.itemTypeSelected},on:{\"reload-page\":function($event){return _vm.reloadPage()}}}),_c('Short',{staticClass:\"admin_productos-products\",on:{\"itemtype\":function($event){_vm.itemTypeSelected = $event}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',[_c('ul',{staticClass:\"options btn-group-vertical\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/registro_producto\",\"tag\":\"button\"}},[_vm._v(\"Registro de Producto \")]),(_vm.itemtype == 'promotions')?_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/editar_promocion\",\"tag\":\"button\",\"disabled\":_vm.$store.state.idSelected[0] == -1}},[_vm._v(\" Editar promoción \")]):_vm._e(),(_vm.itemtype == 'products')?_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/registro_promocion\",\"tag\":\"button\",\"disabled\":_vm.canAddToProm}},[_vm._v(\" \"+_vm._s(_vm.buttons[1].name)+\" \")]):_vm._e(),_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.canEditProducts},on:{\"click\":_vm.editProduct}},[_vm._v(\" Editar producto \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.canAddToProm},on:{\"click\":_vm.hayCantidad}},[_vm._v(\" Aplicar descuento \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":!_vm.isProduct},on:{\"click\":function($event){return _vm.handlerConfirmProductDeletion()}}},[_vm._v(\" Eliminar Producto \")]),_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.canDeleteProm},on:{\"click\":function($event){return _vm.handlerConfirmPromotionDeletion()}}},[_vm._v(\" Eliminar Promocion \")]),_c('router-link',{staticClass:\"button\",attrs:{\"to\":\"/product-category\",\"tag\":\"button\"}},[_vm._v(\" Administrar categorías \")])],1),_c('Alert',{ref:\"alert\"}),_c('Confirm',{ref:\"confirm\",on:{\"taken-decision\":function($event){return _vm.executeAction($event, _vm.eliminarProm)}}}),_c('Confirm',{ref:\"confirm1\",on:{\"taken-decision\":function($event){return _vm.executeAction($event, _vm.deleteProduct)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <aside>\n    <ul class=\"options btn-group-vertical\">\n      <router-link to=\"/registro_producto\" class=\"button\" tag=\"button\"\n        >Registro de Producto\n      </router-link>\n      <router-link\n        v-if=\"itemtype == 'promotions'\"\n        to=\"/editar_promocion\"\n        class=\"button\"\n        tag=\"button\"\n        :disabled=\"$store.state.idSelected[0] == -1\"\n      >\n        Editar promoción\n      </router-link>\n      <router-link\n        v-if=\"itemtype == 'products'\"\n        to=\"/registro_promocion\"\n        class=\"button\"\n        tag=\"button\"\n        :disabled=\"canAddToProm\"\n      >\n        {{ buttons[1].name }}\n      </router-link>\n      <button :disabled=\"canEditProducts\" class=\"button\" @click=\"editProduct\">\n        Editar producto\n      </button>\n\n      <button :disabled=\"canAddToProm\" class=\"button\" @click=\"hayCantidad\">\n        Aplicar descuento\n      </button>\n      <button\n        class=\"button\"\n        :disabled=\"!isProduct\"\n        @click=\"handlerConfirmProductDeletion()\"\n      >\n        Eliminar Producto\n      </button>\n      <button\n        class=\"button\"\n        :disabled=\"canDeleteProm\"\n        @click=\"handlerConfirmPromotionDeletion()\"\n      >\n        Eliminar Promocion\n      </button>\n      <router-link to=\"/product-category\" class=\"button\" tag=\"button\">\n        Administrar categorías\n      </router-link>\n    </ul>\n    <Alert ref=\"alert\"></Alert>\n    <Confirm\n      ref=\"confirm\"\n      @taken-decision=\"executeAction($event, eliminarProm)\"\n    ></Confirm>\n    <Confirm\n      ref=\"confirm1\"\n      @taken-decision=\"executeAction($event, deleteProduct)\"\n    ></Confirm>\n  </aside>\n</template>\n\n<script>\nimport Alert from \"@/components/Alert.vue\";\nimport Confirm from \"@/components/Confirm.vue\";\n\nexport default {\n  name: \"Options\",\n  props: [\"itemtype\"],\n  components: { Alert, Confirm },\n  data: function () {\n    return {\n      buttons: [\n        {\n          name: \"Editar producto\",\n        },\n        {\n          name: \"Crear promocion\",\n        },\n      ],\n    };\n  },\n  mounted: function () {\n    this.$store.commit(\"changeSelection\", [-1, 0]);\n  },\n  computed: {\n    canAddToProm() {\n      if (this.$store.state.idSelected[0] == -1) return false;\n      else if (this.itemtype == \"promotions\") return true;\n      return this.$store.state.idSelected[1] == null;\n    },\n    canEditProducts() {\n      if (this.$store.state.idSelected[0] == -1) return true;\n      else if (this.itemtype == \"promotions\") return true;\n      return this.$store.state.idSelected[1] == true;\n    },\n    canDeleteProm() {\n      if (\n        this.$store.state.idSelected[0] == -1 &&\n        this.itemtype === \"promotions\"\n      )\n        return true;\n      else if (this.itemtype === \"products\") return true;\n      return false;\n    },\n    isProduct() {\n      if (this.$store.state.idSelected[0] != -1 && this.itemtype === \"products\")\n        return true;\n      return false;\n    },\n  },\n  methods: {\n    async hayCantidad() {\n      const id = this.$store.state.idSelected[0];\n\n      if (id != -1) {\n        this.$router.push(`/descuento_producto/${id}`);\n      } else {\n        this.alert(\"warning\", \"Seleccione un producto\");\n      }\n    },\n    async editProduct() {\n      const id = this.$store.state.idSelected[0];\n\n      if (id != -1) {\n        this.$router.push(`/editar_producto/${id}`);\n      } else {\n        alert(\"Seleccione un producto\");\n      }\n    },\n    handlerConfirmPromotionDeletion() {\n      const idprom = this.$store.state.idSelected[0];\n\n      if (idprom != -1) {\n        this.confirm(\n          \"Esta seguro que desea eliminar esta promocion\",\n          \"confirm\"\n        );\n      } else {\n        this.alert(\"warning\", \"Seleccione una promocion\");\n      }\n    },\n    async eliminarProm() {\n      const idprom = this.$store.state.idSelected[0];\n      await this.$http.delete(`promotions/${idprom}`);\n      this.alert(\"success\", \"La promocion fue eliminada\");\n      this.$emit(\"reload-page\");\n    },\n    async obtenerCantidad(id) {\n      const response = await this.$http.get(`products/${id}`);\n      return response.data.datos[0].cantidad;\n    },\n    async handlerConfirmProductDeletion() {\n      const idProduct = this.$store.state.idSelected[0];\n      const promotions = await this.getPromotions(idProduct);\n      const disconunt =\n        (await this.getDiscount(idProduct)).length != 0 ? true : false;\n      const promotionMessage =\n        promotions.length != 0 ? this.renderPromotions(promotions) : \"\";\n\n      this.confirm(\n        this.getFormatedMessage(disconunt, promotionMessage),\n        \"confirm1\"\n      );\n    },\n    async deleteProduct() {\n      const idProduct = this.$store.state.idSelected[0];\n      await this.$http.delete(`products/${idProduct}`);\n      this.alert(\"success\", \"El producto fue eliminado\");\n      this.$emit(\"reload-page\");\n    },\n    async getDiscount(idProduct) {\n      return (await this.$http.get(`discounts/${idProduct}`)).data.datos;\n    },\n    async getPromotions(idProduct) {\n      return (await this.$http.get(`products/promotions/${idProduct}`)).data\n        .datos;\n    },\n    renderPromotions(promotions) {\n      return promotions.reduce(\n        (acc, promotions) => `${acc} ${promotions.nombr_prom}`,\n        \"\"\n      );\n    },\n    getFormatedMessage(disconunt, promotionMessage) {\n      const message = \"¿Estas seguro de quieres eliminarlo?\";\n      if (disconunt && promotionMessage)\n        return `Este producto tiene registrado un descuento y esta en las promociones de${promotionMessage}. ${message}`;\n      else {\n        if (disconunt) return `Este producto tiene un descuento. ${message}`;\n        else if (promotionMessage)\n          return `Este producto tiene registrado las promociones de${promotionMessage}. ${message}`;\n        else return message;\n      }\n    },\n    alert(alertType, alertMessage) {\n      this.$refs.alert.showAlert(alertType, alertMessage);\n    },\n    confirm(confirmMessage, confirmRefId) {\n      this.$refs[confirmRefId].showConfirm(confirmMessage);\n    },\n    executeAction(takenDecision, functionToExecute) {\n      if (takenDecision) {\n        functionToExecute();\n      } else {\n        this.alert(\"success\", \"se cancelo la eliminacion\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\nul {\n  padding: 0;\n  position: fixed;\n  top: 50%;\n  transform: translate(0, -50%);\n  left: 0;\n}\n\ndiv {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n\n.button {\n  text-transform: uppercase;\n  font-size: 14px;\n  background: none;\n  border: 1px solid var(--color-border);\n  border-radius: var(--border-radius);\n  width: 230px;\n  padding: 16px;\n  margin: 1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Options.vue?vue&type=template&id=b84140c2&scoped=true&\"\nimport script from \"./Options.vue?vue&type=script&lang=js&\"\nexport * from \"./Options.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Options.vue?vue&type=style&index=0&id=b84140c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b84140c2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section>\n    <h1 class=\"admin_productos-title\">Administración de productos</h1>\n    <div class=\"admin_productos-container\">\n      <Options\n        class=\"admin_productos-options\"\n        @reload-page=\"reloadPage()\"\n        :itemtype=\"itemTypeSelected\"\n      />\n      <Short\n        class=\"admin_productos-products\"\n        @itemtype=\"itemTypeSelected = $event\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport Options from \"@/components/admin_prod/Options.vue\";\nimport Short from \"@/components/admin_prod/Short.vue\";\n\nexport default {\n  name: \"Admin_productos\",\n  components: {\n    Options,\n    Short,\n  },\n  data() {\n    return {\n      itemTypeSelected: \"\",\n    };\n  },\n  methods: {\n    reloadPage() {\n      location.reload();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.admin_productos-container {\n  display: grid;\n  grid-template-columns: 270px 1fr;\n}\n\n.admin_productos-title {\n  font-size: 2rem;\n  font-weight: 600;\n  color: var(--color-title);\n  margin-bottom: 4rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin_productos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin_productos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin_productos.vue?vue&type=template&id=5d4ea078&scoped=true&\"\nimport script from \"./Admin_productos.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin_productos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Admin_productos.vue?vue&type=style&index=0&id=5d4ea078&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d4ea078\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin_productos.vue?vue&type=style&index=0&id=5d4ea078&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin_productos.vue?vue&type=style&index=0&id=5d4ea078&scoped=true&lang=css&\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=style&index=0&id=b84140c2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Options.vue?vue&type=style&index=0&id=b84140c2&scoped=true&lang=css&\""],"sourceRoot":""}