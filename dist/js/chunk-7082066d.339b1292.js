(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7082066d"],{"25f0":function(t,e,r){"use strict";var n=r("6eeb"),o=r("825a"),i=r("d039"),a=r("ad6d"),s="toString",c=RegExp.prototype,u=c[s],d=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=s;(d||l)&&n(RegExp.prototype,s,(function(){var t=o(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?a.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},"38ff":function(t,e,r){},"3a26":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",[t._v("Lista de productos:")]),r("div",[r("h4",[t._v("Ordenar por:")]),r("aside",{staticClass:"short-buttonlist"},t._l(t.orderButtons,(function(e,n){return r("button",{key:n,class:"short-button "+(t.orden==e.order||t.orden==e.orderProm?"short-button_select":""),on:{click:function(e){return t.selectOrder(n)}}},[t._v(" "+t._s(e.type)+" ")])})),0),t.onlyUnits?t._e():r("h4",[t._v("Mostrar:")]),t.onlyUnits?t._e():r("aside",{staticClass:"short-buttonlist"},[r("button",{staticClass:"short-button",on:{click:function(e){return t.selectMostrar("products")}}},[t._v("Productos")]),r("button",{staticClass:"short-button",on:{click:function(e){return t.selectMostrar("promotions")}}},[t._v("Promociones")])])]),"products"==t.mostrar?r("div",{staticClass:"short-list"},t._l(t.products,(function(e){return r("div",{key:e.cod_prod,class:"short-product "+t.itemSelected(e.cod_prod),on:{click:function(r){return t.selectProduct(e.cod_prod,e.cantidad)}}},[r("Item",{attrs:{id_product:e.cod_prod,nombre:e.nombre_prod,precio:e.precio_unid,descripcion:e.descripcion,fecha:e.fecha_adic,clickeable:t.onlyUnits}})],1)})),0):t._e(),"promotions"==t.mostrar?r("div",{staticClass:"short-list"},t._l(t.promotions,(function(e){return r("div",{key:e.cod_prom,class:"short-product "+t.itemSelected(e.cod_prom),on:{click:function(r){return t.selectProduct(e.cod_prom,e.cantidad_prom)}}},[r("ItemProm",{attrs:{id_prom:e.cod_prom,nombre:e.nombr_prom,precio:e.precio_prom,descripcion:e.descrip_prom,fecha_ini:e.fecha_ini,fecha_fin:e.fecha_fin}})],1)})),0):t._e(),r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination justify-content-center"},[r("li",{class:"page-item "+(this.pagina<=1?"disabled":"")},[r("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.prevPag}},[t._v("Anterior")])]),t._l(t.pagCount,(function(e){return r("li",{key:e,staticClass:"page-item",class:t.pagina==e?"active":""},[r("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(r){return t.setPage(e)}}},[t._v(t._s(e))])])})),r("li",{class:"page-item "+(this.pagina>=this.pagCount?"disabled":"")},[r("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.nextPag}},[t._v("Siguiente")])])],2)])])},o=[],i=(r("99af"),r("b65f"),r("96cf"),r("1da1")),a=r("b85c"),s=r("be89"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("router-link",{attrs:{to:""}},[r("img",{staticClass:"img-item",attrs:{src:t.imagen,alt:t.nombre}})]),r("h5",{staticClass:"one-line"},[t._v(t._s(t.nombre))]),r("p",[t._v(t._s(t.precio)+" Bs.")]),r("p",{staticClass:"three-lines"},[t._v("Descripcion:"),r("br"),t._v(t._s(t.descripcion))]),r("p",[t._v("Inicia el "+t._s(t.parseDate("ini")))]),r("p",[t._v("Termina el "+t._s(t.parseDate("fin")))])],1)},u=[],d={name:"ItemProm",props:["id_prom","nombre","precio","descripcion","fecha_ini","fecha_fin"],data:function(){return{imagen:""}},methods:{parseDate:function(t){var e;e="ini"==t?new Date(this.fecha_ini):new Date(this.fecha_fin);var r=e.getDate()+1,n=e.getMonth()+1,o=e.getFullYear();return"".concat(r,"-").concat(n,"-").concat(o)}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("promotions/image/".concat(this.id_prom));case 2:e=t.sent,r=e.data.datos[0].imagen_prom,this.imagen="data:image/jpg;base64,"+r;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},l=d,p=(r("ae3f"),r("2877")),f=Object(p["a"])(l,c,u,!1,null,"3dd28e3e",null),h=f.exports,m={name:"Short",props:["multipleSelect","onlyUnits"],components:{Item:s["a"],ItemProm:h},data:function(){return{pagina:1,pagCount:1,orden:"nombre_prod",mostrar:"products",produtSelect:-1,products:[],promotions:[],arrayNext:[],arrayAnt:[],orderButtons:[{order:"nombre_prod",orderProm:"nombr_prom",type:"Alfabéticamente"},{order:"fecha_adic",orderProm:"fecha_ini",type:"Más recientes"},{order:"cantidad",orderProm:"cantidad_prom",type:"Menor inventario"},{order:"precio_unid",orderProm:"precio_prom",type:"Precio"}]}},methods:{selectOrder:function(t){this.orden="products"==this.mostrar?this.orderButtons[t].order:this.orderButtons[t].orderProm,this.pagina=1,this.selectProduct(-1,0,!0),this.getProducts()},selectMostrar:function(t){if(this.mostrar!=t){this.mostrar=t,this.$emit("tipo",this.mostrar);var e,r=Object(a["a"])(this.orderButtons);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.order==this.orden?this.orden=n.orderProm:n.orderProm==this.orden&&(this.orden=n.order)}}catch(o){r.e(o)}finally{r.f()}this.pagina=1,this.selectProduct(-1,0,!0),this.getProducts()}},selectProduct:function(t,e,r){if(this.multipleSelect){if(r)return;t in this.$store.state.groupIDselected?this.$store.commit("deleteID",t):this.$store.commit("addID",[t,e])}else this.produtSelect[0]==t?this.produtSelect=[-1,0]:this.produtSelect=[t,e],this.$store.commit("changeSelection",this.produtSelect)},itemSelected:function(t){return this.multipleSelect?t in this.$store.state.groupIDselected?"short-product_select":"":t==this.produtSelect[0]?"short-product_select":""},getProducts:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="".concat(t.mostrar,"?criterio=").concat(t.orden,"&page=").concat(t.pagina,"&limit=10"),"products"==t.mostrar&&t.onlyUnits&&(r+="&filter=1"),e.next=4,t.$http.get(r);case 4:n=e.sent,o=n.data,i=parseInt(o.cant[0].count),t.pagCount=i%10==0?Math.trunc(i/10):Math.trunc(i/10)+1,t.arrayNext=o.next,t.arrayAnt=o.previus,"products"==t.mostrar?t.products=o.results:t.promotions=o.results;case 11:case"end":return e.stop()}}),e)})))()},prevPag:function(){this.pagina--,this.selectProduct(-1,0,!0),this.getProducts()},nextPag:function(){this.pagina++,this.selectProduct(-1,0,!0),this.getProducts()},setPage:function(t){this.pagina=t,this.selectProduct(-1,0,!0),this.getProducts()}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProducts(this.pagina,this.orden);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},g=m,v=(r("c1d4"),Object(p["a"])(g,n,o,!1,null,"1db181d0",null));e["a"]=v.exports},"4df4":function(t,e,r){"use strict";var n=r("0366"),o=r("7b0b"),i=r("9bdd"),a=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,d,l,p,f,h=o(t),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,_=void 0!==v,b=u(h),y=0;if(_&&(v=n(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(e=s(h.length),r=new m(e);e>y;y++)f=_?v(h[y],y):h[y],c(r,y,f);else for(l=b.call(h),p=l.next,r=new m;!(d=p.call(l)).done;y++)f=_?i(l,v,[d.value,y],!0):d.value,c(r,y,f);return r.length=y,r}},6862:function(t,e,r){},"99af":function(t,e,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("e8b5"),a=r("861d"),s=r("7b0b"),c=r("50c4"),u=r("8418"),d=r("65f0"),l=r("1dde"),p=r("b622"),f=r("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),_=l("concat"),b=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},y=!v||!_;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,n,o,i,a=s(this),l=d(a,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?a:arguments[e],b(i)){if(o=c(i.length),p+o>m)throw TypeError(g);for(r=0;r<o;r++,p++)r in i&&u(l,p,i[r])}else{if(p>=m)throw TypeError(g);u(l,p++,i)}return l.length=p,l}})},a630:function(t,e,r){var n=r("23e7"),o=r("4df4"),i=r("1c7e"),a=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:o})},ae3f:function(t,e,r){"use strict";var n=r("6862"),o=r.n(n);o.a},b65f:function(t,e,r){var n=r("23e7"),o=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a630"),r("fb6a"),r("b0c0"),r("25f0");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function i(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=o(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}},be89:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("router-link",{attrs:{to:t.clickeable?"":"/producto/"+t.id_product}},[r("img",{staticClass:"img-item",attrs:{src:t.imagen,alt:t.nombre}})]),r("h5",{staticClass:"one-line"},[t._v(t._s(t.nombre))]),r("p",[t._v(t._s(t.precio)+" Bs.")]),r("p",{staticClass:"three-lines"},[t._v("Descripcion:"),r("br"),t._v(t._s(t.descripcion))]),r("p",[t._v("Añadido el "+t._s(t.parseDate()))])],1)},o=[],i=(r("99af"),r("96cf"),r("1da1")),a={name:"Item",props:["id_product","nombre","precio","descripcion","fecha","clickeable"],data:function(){return{imagen:""}},methods:{parseDate:function(){var t=new Date(this.fecha),e=t.getDate()+1,r=t.getMonth()+1,n=t.getFullYear();return"".concat(e,"-").concat(r,"-").concat(n)}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("images/".concat(this.id_product,"?cantidad=1"));case 2:e=t.sent,r=e.data.datos[0].imagen,this.imagen="data:image/jpg;base64,"+r;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},s=a,c=(r("c15e"),r("2877")),u=Object(c["a"])(s,n,o,!1,null,"43e8ad8e",null);e["a"]=u.exports},c15e:function(t,e,r){"use strict";var n=r("d523"),o=r.n(n);o.a},c1d4:function(t,e,r){"use strict";var n=r("38ff"),o=r.n(n);o.a},d523:function(t,e,r){}}]);
//# sourceMappingURL=chunk-7082066d.339b1292.js.map